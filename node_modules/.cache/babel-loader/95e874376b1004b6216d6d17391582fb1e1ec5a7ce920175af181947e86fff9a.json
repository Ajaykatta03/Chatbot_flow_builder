{"ast":null,"code":"export const initialState = {\n  nodes: [],\n  edges: [],\n  selectedNodeId: null\n};\nexport function flowReducer(state, action) {\n  switch (action.type) {\n    case 'ADD_NODE':\n      return {\n        ...state,\n        nodes: [...state.nodes, action.node]\n      };\n    case 'UPDATE_NODE':\n      return {\n        ...state,\n        nodes: state.nodes.map(n => n.id === action.id ? {\n          ...n,\n          data: {\n            ...n.data,\n            ...action.data\n          }\n        } : n)\n      };\n    case 'REMOVE_NODE':\n      return {\n        ...state,\n        nodes: state.nodes.filter(n => n.id !== action.id),\n        edges: state.edges.filter(e => e.source !== action.id && e.target !== action.id),\n        selectedNodeId: state.selectedNodeId === action.id ? null : state.selectedNodeId\n      };\n    case 'ADD_EDGE':\n      return {\n        ...state,\n        edges: [...state.edges, action.edge]\n      };\n    case 'REMOVE_EDGE':\n      return {\n        ...state,\n        edges: state.edges.filter(e => e.id !== action.id)\n      };\n    case 'UPDATE_EDGE':\n      return {\n        ...state,\n        edges: state.edges.map(e => e.id === action.id ? {\n          ...e,\n          ...action.updates\n        } : e)\n      };\n    case 'SET_SELECTED':\n      return {\n        ...state,\n        selectedNodeId: action.id\n      };\n    case 'LOAD_FLOW':\n      return {\n        ...state,\n        nodes: action.nodes || [],\n        edges: action.edges || [],\n        selectedNodeId: null\n      };\n    default:\n      return state;\n  }\n}","map":{"version":3,"names":["initialState","nodes","edges","selectedNodeId","flowReducer","state","action","type","node","map","n","id","data","filter","e","source","target","edge","updates"],"sources":["C:/Users/HP/Desktop/ChatBotFlow/bitespeed-flow-builder/src/state/flowReducer.js"],"sourcesContent":["export const initialState = {\r\n  nodes: [],\r\n  edges: [],\r\n  selectedNodeId: null,\r\n}\r\n\r\nexport function flowReducer(state, action) {\r\n  switch (action.type) {\r\n    case 'ADD_NODE':\r\n      return { ...state, nodes: [...state.nodes, action.node] }\r\n    case 'UPDATE_NODE':\r\n      return {\r\n        ...state,\r\n        nodes: state.nodes.map(n => (n.id === action.id ? { ...n, data: { ...n.data, ...action.data } } : n)),\r\n      }\r\n    case 'REMOVE_NODE':\r\n      return { ...state, nodes: state.nodes.filter(n => n.id !== action.id), edges: state.edges.filter(e => e.source !== action.id && e.target !== action.id), selectedNodeId: state.selectedNodeId === action.id ? null : state.selectedNodeId }\r\n    case 'ADD_EDGE':\r\n      return { ...state, edges: [...state.edges, action.edge] }\r\n    case 'REMOVE_EDGE':\r\n      return { ...state, edges: state.edges.filter(e => e.id !== action.id) }\r\n    case 'UPDATE_EDGE':\r\n      return { ...state, edges: state.edges.map(e => (e.id === action.id ? { ...e, ...action.updates } : e)) }\r\n    case 'SET_SELECTED':\r\n      return { ...state, selectedNodeId: action.id }\r\n    case 'LOAD_FLOW':\r\n      return { ...state, nodes: action.nodes || [], edges: action.edges || [], selectedNodeId: null }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n"],"mappings":"AAAA,OAAO,MAAMA,YAAY,GAAG;EAC1BC,KAAK,EAAE,EAAE;EACTC,KAAK,EAAE,EAAE;EACTC,cAAc,EAAE;AAClB,CAAC;AAED,OAAO,SAASC,WAAWA,CAACC,KAAK,EAAEC,MAAM,EAAE;EACzC,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,UAAU;MACb,OAAO;QAAE,GAAGF,KAAK;QAAEJ,KAAK,EAAE,CAAC,GAAGI,KAAK,CAACJ,KAAK,EAAEK,MAAM,CAACE,IAAI;MAAE,CAAC;IAC3D,KAAK,aAAa;MAChB,OAAO;QACL,GAAGH,KAAK;QACRJ,KAAK,EAAEI,KAAK,CAACJ,KAAK,CAACQ,GAAG,CAACC,CAAC,IAAKA,CAAC,CAACC,EAAE,KAAKL,MAAM,CAACK,EAAE,GAAG;UAAE,GAAGD,CAAC;UAAEE,IAAI,EAAE;YAAE,GAAGF,CAAC,CAACE,IAAI;YAAE,GAAGN,MAAM,CAACM;UAAK;QAAE,CAAC,GAAGF,CAAE;MACtG,CAAC;IACH,KAAK,aAAa;MAChB,OAAO;QAAE,GAAGL,KAAK;QAAEJ,KAAK,EAAEI,KAAK,CAACJ,KAAK,CAACY,MAAM,CAACH,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKL,MAAM,CAACK,EAAE,CAAC;QAAET,KAAK,EAAEG,KAAK,CAACH,KAAK,CAACW,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,MAAM,KAAKT,MAAM,CAACK,EAAE,IAAIG,CAAC,CAACE,MAAM,KAAKV,MAAM,CAACK,EAAE,CAAC;QAAER,cAAc,EAAEE,KAAK,CAACF,cAAc,KAAKG,MAAM,CAACK,EAAE,GAAG,IAAI,GAAGN,KAAK,CAACF;MAAe,CAAC;IAC7O,KAAK,UAAU;MACb,OAAO;QAAE,GAAGE,KAAK;QAAEH,KAAK,EAAE,CAAC,GAAGG,KAAK,CAACH,KAAK,EAAEI,MAAM,CAACW,IAAI;MAAE,CAAC;IAC3D,KAAK,aAAa;MAChB,OAAO;QAAE,GAAGZ,KAAK;QAAEH,KAAK,EAAEG,KAAK,CAACH,KAAK,CAACW,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACH,EAAE,KAAKL,MAAM,CAACK,EAAE;MAAE,CAAC;IACzE,KAAK,aAAa;MAChB,OAAO;QAAE,GAAGN,KAAK;QAAEH,KAAK,EAAEG,KAAK,CAACH,KAAK,CAACO,GAAG,CAACK,CAAC,IAAKA,CAAC,CAACH,EAAE,KAAKL,MAAM,CAACK,EAAE,GAAG;UAAE,GAAGG,CAAC;UAAE,GAAGR,MAAM,CAACY;QAAQ,CAAC,GAAGJ,CAAE;MAAE,CAAC;IAC1G,KAAK,cAAc;MACjB,OAAO;QAAE,GAAGT,KAAK;QAAEF,cAAc,EAAEG,MAAM,CAACK;MAAG,CAAC;IAChD,KAAK,WAAW;MACd,OAAO;QAAE,GAAGN,KAAK;QAAEJ,KAAK,EAAEK,MAAM,CAACL,KAAK,IAAI,EAAE;QAAEC,KAAK,EAAEI,MAAM,CAACJ,KAAK,IAAI,EAAE;QAAEC,cAAc,EAAE;MAAK,CAAC;IACjG;MACE,OAAOE,KAAK;EAChB;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}